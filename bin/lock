#!/bin/bash

img=/tmp/i3lock.png
blur_type="0x12"
resize="16"

py() {
    python -c "print $*"
}

blur() {
    convert "$img" -blur "$blur_type" "$img"
}

blur_saturate() {
    convert "$img" -modulate 100,500,100 -blur "$blur_type" "$img"
}

resized() {
    convert "$img" -resize "$(py "100.0 / $resize")%" -resize "$(py "100.0 * $resize")%" "$img"
}

bad_jpeg() {
    convert "$img" -modulate 100,500,100 -resize 12.5% -quality 15 "$img".jpg
    convert "$img".jpg -resize 800% "$img"
}

scrot "$img"
blur_saturate
i3lock -i "$img"
rm "$img"
