#!/bin/bash

main() {
  local message="$*"
  if svn info &>/dev/null; then
    svn-color ci -m "$message"
    while ! svn up &>/dev/null; do
      sleep 1
    done
    svn-color log
  else
    git commit -m "$message"
    gl -n "$(( $(tput lines) - 5 ))"
  fi
}

main "$@"
