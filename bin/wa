#!/usr/bin/env bash

# # wa
#
# A simple replacement for watch that allows all Bash features (such as piping)
# and access to custom aliases/functions you have.
#
# ## Example usage:
#
# Watch the number of files in a directory:
#     wa 'ls | wc -l'
#
# Watch the number of files in a directory every 5 seconds:
#     wa 'ls | wc -l' 5

set -e

main() {
    while :; do
        bash -lc "$1"
        sleep "${2:-1}"
    done
}

main "$@"
